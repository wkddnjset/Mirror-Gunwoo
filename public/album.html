<!DOCTYPE html>
<html lang=ko>
<head>
<meta charset="utf-8">
<title>Album</title>
<link rel="stylesheet" href="stylesheets/style.css">
</head>
<body>

<table>
	<tr align="center">
		<td><div id="disp_cal" class="calendar"></div></td>
		<td><div id="top_clock" class="topClock"></div></td>
		<td>&nbsp; &nbsp; </td>
		<td>|</td>
		<td> Weather  </td><td>|</td>
		<td><div class="active"> Album  </div></td><td>|</td>
		<td> Schedule </td><td>|</td>
		<td> Subway   </td><td>|</td>
		<td>&nbsp; &nbsp; </td>
		<td width="65"><div id="temper" class="temperature"></div></td>
		<td width="50"><img id="icon" src="./images/icons/000.png" height="50" width="50" ></td>
	</tr>
</table>

<hr color="#999"/>

<table><tr align="center"><td><h2> Album </h2></td></tr></table>

<div class="slider" id="main-slider"><!-- outermost container element -->
	<div class="slider-wrapper"><!-- innermost wrapper element -->
		<img src="images/album/photo1.png" alt="First" class="slide" width="640" height="1024"/><!-- slides -->
		<img src="images/album/photo2.png" alt="Second" class="slide" width="640" height="1024"/>
		<img src="images/album/photo3.png" alt="Third" class="slide" width="640" height="1024"/>
	</div>
</div>	

<script src="javascripts/jquery-1.12.4.min.js"></script>
<script src="javascripts/socket.io.js"></script>
<script src="javascripts/clock.js"></script>
<script src="javascripts/openweather.current.js"></script>
<script src="javascripts/annyang.min.js"></script>
<script src="javascripts/responsivevoice.js"></script>

<script>
(function()
{	
	function Slideshow( element ) {
		this.el = document.querySelector( element );
		this.init();
	}
	
	Slideshow.prototype = {
		init: function() {
			this.wrapper = this.el.querySelector( ".slider-wrapper" );
			this.slides = this.el.querySelectorAll( ".slide" );
			this.previous = this.el.querySelector( ".slider-previous" );
			this.next = this.el.querySelector( ".slider-next" );
			this.index = 0;
			this.total = this.slides.length;
			this.timer = null;
			
			this.action();
			this.stopStart();	
		},
		_slideTo: function( slide ) {
			var currentSlide = this.slides[slide];
			currentSlide.style.opacity = 1;
			
			for( var i = 0; i < this.slides.length; i++ ) {
				var slide = this.slides[i];
				if( slide !== currentSlide ) {
					slide.style.opacity = 0;
				}
			}
		},
		action: function() {
			var self = this;
			self.timer = setInterval(function() {
				self.index++;
				if( self.index == self.slides.length ) {
					self.index = 0;
				}
				self._slideTo( self.index );
				
			}, 3000);
		},
		stopStart: function() {
			var self = this;
			self.el.addEventListener( "mouseover", function() {
				clearInterval( self.timer );
				self.timer = null;	
			}, false);
			
			self.el.addEventListener( "mouseout", function() {
				self.action();	
			}, false);
		}		
	};
	
	document.addEventListener( "DOMContentLoaded", function() {	
		var slider = new Slideshow( "#main-slider" );	
	});
	
})();
</script>

<script>
$(document).ready(function()
{
    if (annyang)
	{
        var commands = {
				'아 예뻐':function(){
					responsiveVoice.speak("아 그럼요 물론이죠", "Korean Female");
				},
				'나 예뻐':function(){
					responsiveVoice.speak("새삼스럽게 왜이러세요 ", "Korean Female");
				},
				'너 이름이 뭐야':function(){
					responsiveVoice.speak("뀽팀의 스마트 미러입니다", "Korean Female");
				},
				'어때':function(){
					responsiveVoice.speak("음      괜찮아요", "Korean Female");
				},
				'나 어때':function(){
					responsiveVoice.speak("괜찮아요", "Korean Female");
				},
				'오늘 나 어때':function(){
					responsiveVoice.speak("나쁘지 않아요", "Korean Female");
				},
				'넌 누구니':function(){
					responsiveVoice.speak("뀽팀이 만든 라즈베리파이 스마트 미러 입니다!", "Korean Female");
				},
				'거어울아':function(){
					responsiveVoice.speak("네 부르셨어요?", "Korean Female");
				},
				'거울아':function(){
					responsiveVoice.speak("네 주인님!", "Korean Female");					
				},
				'나 오늘 어때':function(){
					responsiveVoice.speak("괜찮아 보여요", "Korean Female");
				},
				'메뉴':function(){
					responsiveVoice.speak("메뉴 및 사용법입니다.", "Korean Female");
					window.location.replace("index.html");
				},
				'날씨':function(){
					responsiveVoice.speak("일기예보입니다", "Korean Female");
					window.location.replace("weather.html");
				},
				'사진':function(){
					responsiveVoice.speak("사진첩입니다.", "Korean Female"); 
					window.location.replace("album.html");
				},				
				'지하철':function(){
					responsiveVoice.speak("서울 지하철 노선도입니다.", "Korean Female");
					window.location.replace("subway.html");
				},
				'거울모드':function(){
					responsiveVoice.speak("거울 모드입니다", "Korean Female");
					window.location.replace("blank.html");
				},
				'거울':function(){
					responsiveVoice.speak("거울 모드입니다", "Korean Female");
					window.location.replace("blank.html");
				},
				'사용법':function(){
					responsiveVoice.speak("사용법이다", "Korean Female");
					window.location.replace("index.html");
				}
        };
        annyang.addCommands(commands);
        annyang.removeCallback();
        annyang.setLanguage('ko');
        annyang.start({ autoRestart: true, continuous: false });
    }
});
</script>

<script>
	$(function(){
		var socket = io();
		socket.on('url data', function(url_data){
			window.location.replace(url_data);
		});
	});
</script>
</body>
</html>
